<div class="space-y-6" data-controller="resource-constraints--form">
  <div data-resource-constraints--form-target="container">
    <!-- CPU Configuration -->
    <div class="space-y-4">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-16 md:gap-32">
        <div>
          <div class="font-medium flex items-center gap-2 font-bold mb-4">
            <iconify-icon icon="lucide:cpu" height="20"></iconify-icon>
            <span>CPU</span>
          </div>

          <div data-controller="resource-constraints--slider" data-resource-constraints--slider-type-value="float">
            <%= form.text_field(
              :cpu_limit,
              type: "number",
              class: "input input-sm input-bordered font-mono text-sm w-[125px] text-right mr-2",
              value: resource_constraint.cpu_limit.present? ? (resource_constraint.cpu_limit / 1000.0) : nil,
              step: :any,
              required: true,
              placeholder: "0.5",
              data: {
                resource_constraints__slider_target: "numberInput",
                action: "input->resource-constraints--slider#updateSlider"
              }
            ) %>
            <span class="text-gray-200">cores</span>
            <div class="mt-4">
              <input
                type="range"
                min="0.1"
                max="16"
                step="0.1"
                value="<%= resource_constraint.cpu_limit.present? ? (resource_constraint.cpu_limit / 1000.0) : 0.5 %>"
                class="w-full h-2 bg-base-300 rounded-lg appearance-none cursor-pointer slider"
                data-action="input->resource-constraints--slider#updateValue"
                data-resource-constraints--slider-target="slider"
              >
              <div class="flex justify-between text-xs text-gray-400 mt-1">
                <span>0.1</span>
                <span>16.0</span>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div class="font-medium flex items-center gap-2 font-bold mb-4">
            <iconify-icon icon="lucide:hard-drive" height="20"></iconify-icon>
            <span>Memory</span>
          </div>

          <div data-controller="resource-constraints--slider" data-resource-constraints--slider-type-value="integer">
            <%= form.text_field(
              :memory_limit,
              type: "number",
              class: "input input-sm input-bordered font-mono text-sm w-[125px] text-right mr-2",
              value: resource_constraint.cpu_limit,
              placeholder: "128",
              required: true,
              data: {
                resource_constraints__slider_target: "numberInput",
                action: "input->resource-constraints--slider#updateSlider"
              }
            ) %>
            <span class="text-gray-200">MB</span>
            <div class="mt-4">
              <input
                type="range"
                min="128"
                max="32768"
                step="128"
                value="<%= resource_constraint.memory_limit || 128 %>"
                class="w-full h-2 bg-base-300 rounded-lg appearance-none cursor-pointer slider"
                data-action="input->resource-constraints--slider#updateValue"
                data-resource-constraints--slider-target="slider"
              >
              <div class="flex justify-between text-xs text-gray-400 mt-1">
                <span>128</span>
                <span>32768</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>