<%= turbo_frame_tag "resource_constraint_form" do %>
  <h3 class="text-lg font-bold mb-4">Edit Resource Constraints</h3>
  <%
    url = case @constrainable_type
          when 'add_on'
            add_on_resource_constraint_path(@constrainable)
          when 'project'
            project_resource_constraint_path(@constrainable)
          when 'service'
            project_service_resource_constraint_path(@project, @constrainable)
          end
  %>
  <%= form_with(model: @resource_constraint, url: url, method: :patch, data: { turbo_frame: "resource_constraint_form" }) do |form| %>
    <%= render "resource_constraints/form", form: form, resource_constraint: @resource_constraint %>
    <div class="form-footer mt-6 flex gap-2">
      <%= form.submit "Update Resource Constraints", class: "btn btn-primary", data: { turbo: false } %>
      <%= button_to "Remove Constraints", url, method: :delete, class: "btn btn-error btn-outline", form: { data: { turbo_confirm: "Are you sure you want to remove resource constraints?" } } %>
    </div>
  <% end %>
<% end %>
