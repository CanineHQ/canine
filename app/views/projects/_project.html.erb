<!-- How to represent a project on other surfaces -->
<%= link_to project_path(project) do %>
  <div class="card bg-base-200">
    <div class="card-body">
      <% unless project.cluster.gateway_based? %>
        <div class="alert alert-warning mb-2 py-2">
          <iconify-icon icon="lucide:triangle-alert"></iconify-icon>
          <span>
            This project is using NGINX Ingress, which is deprecated. Redeploy to upgrade to Gateway API.
            <% if project.cluster.k8s? %>
              This may require a DNS update because a new external IP address might be created.
            <% end %>
            <%= link_to "Learn more", "https://kubernetes.io/blog/2025/11/11/ingress-nginx-retirement/", target: "_blank", class: "underline ml-1" %>
          </span>
        </div>
      <% end %>
      <h2 class="card-title">
        <%= project.name %>
      </h2>
      <p class="card-text">
        <%= render "projects/status", project: project %>
        <%= project.repository_url %>
      </p>
    </div>
  </div>
<% end %>
